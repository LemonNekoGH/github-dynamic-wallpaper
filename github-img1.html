<!DOCTYPE html>
<html>

<head>
    <style>
        svg {
            width: 80%;
            margin: auto;
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
        }

        body {
            margin: 0;
            padding: 0;
            height: 100vh;
        }

        .time {
            font-family: "JetBrainsMono";
            padding-top: 37vh;
            padding-left: 26vw;
            height: 100vh;
            font-size: 7vw;
        }

        #app {
            margin: 0;
            padding: 0;
            width: 100vw;
            height: 100vh;
        }

        html {
            overflow: hidden;
        }

        @font-face {
            font-family: JetBrainsMono;
            src: url("JetBrainsMono-Regular.woff2");
        }
    </style>
</head>

<body>
    <div id="app" :style="background">
        <div class="time" :style="timeContainer">
            <span id="time" :style="timeStyle">{{time}}</span>
        </div>
        <svg aria-hidden="true" viewBox="0 0 273 147" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"
            fill="none" xmlns="http://www.w3.org/2000/svg">
            <g>
                <path :stroke="hillsColor" d="M162 140.5c14-29 51-29 65 5h44M175.5 118.001c-20-18-55-11-63.5 27.5H2">
                </path>
                <path :stroke="hillsColor"
                    d="M132.001 124.5c-5.999 6-.999 10.999 4.999 4.999 5.999-6 1-10.999-4.999-4.999z">
                </path>
            </g>
            <g>
                <path :stroke="bushColor"
                    d="M221 124.5c2.5-4.5 6-7 12-7M94.545 139.515c7.5-5.5 7-12.5 3-12.5-4.682 0-6.5 4.667-7 6 1.5-4.333 3.3-13.1-1.5-13.5-4.8-.4-5 7.167-4.5 11-.667-4.166-3.783-10.32-7.045-9.015-5 2 .046 8.515 2.546 11.515-1.501-.833-6.965-1.757-7.502 2-.5 3.5 3.334 4.5 5.002 4.5">
                </path>
                <circle :stroke="bushColor" cx="193.5" cy="15.5" r="1.5"></circle>
            </g>
            <g>
                <path :stroke="towerColor" d="M239.5 139.5v-74l32-27M270.5 139.5v-34h-10M270.5 96.5h-10"></path>
                <path :stroke="towerColor" d="M271.5 27.5v60h-11M271.5 21.5v-3"></path>
            </g>
            <g>
                <path :stroke="treeColor"
                    d="M48.5 131.5v8M22.5 122.5v17M34.5 103.5c0-7.732 6.268-14 14-14s14 6.268 14 14v14c0 7.732-6.268 14-14 14s-14-6.268-14-14v-14zM62.5 104.5h-13M62.5 113.5h-11">
                </path>
                <path :stroke="treeColor"
                    d="M42.5 84.077v-5c0-3.035-.676-5.913-1.886-8.49 2.92-12.337-2.104-19.316-9.063-9.35a19.916 19.916 0 00-9.051-2.16c-3.257 0-6.333.779-9.05 2.16-6.96-9.966-11.985-2.987-9.064 9.351a19.923 19.923 0 00-1.886 8.49V102.5c0 11.046 8.954 20 20 20 2.09 0 4.106-.321 6-.916M20.5 76.5v2M33.5 76.5v2M19.5 93.5l-5 5M19.5 98.5l-5-5">
                </path>
            </g>
            <g>
                <path :stroke="cloudColor"
                    d="M9.5 5.5a7 7 0 000 14H49a4 4 0 010 8h-5a7 7 0 100 14h39a7 7 0 100-14H66a4 4 0 010-8h.5a7 7 0 100-14h-57z">
                </path>
                <circle :stroke="cloudColor" cx="89" cy="12.5" r="7"></circle>
            </g>
            <g>
                <path :fill="starColor"
                    d="M17.89 34.27a1.745 1.745 0 00-3.361.01c-.267.966-.42 1.16-.492 1.232-.075.075-.278.23-1.256.5a1.745 1.745 0 00.01 3.367c.981.265 1.185.418 1.26.492.073.072.227.266.5 1.23a1.745 1.745 0 003.363-.012c.266-.966.419-1.16.49-1.232.075-.075.278-.23 1.258-.5a1.746 1.746 0 00-.011-3.368c-.982-.264-1.186-.418-1.262-.492-.072-.07-.226-.264-.498-1.227zM96.89 97.27a1.745 1.745 0 00-3.361.01c-.267.966-.42 1.16-.492 1.232-.075.075-.278.23-1.256.5a1.746 1.746 0 00.01 3.367c.981.265 1.185.418 1.26.492.073.072.227.266.5 1.23a1.745 1.745 0 003.363-.012c.266-.966.419-1.161.49-1.232.075-.075.278-.229 1.258-.5a1.746 1.746 0 00-.011-3.368c-.982-.264-1.186-.418-1.262-.492-.072-.07-.226-.263-.498-1.227zM120.891 23.27a1.745 1.745 0 00-3.362.01c-.267.966-.42 1.16-.492 1.232-.074.075-.278.23-1.256.5a1.746 1.746 0 00.01 3.367c.981.264 1.185.418 1.261.492.072.072.227.266.5 1.23a1.745 1.745 0 003.362-.012c.266-.966.419-1.16.491-1.232.074-.075.277-.23 1.257-.5a1.744 1.744 0 00-.011-3.368c-.982-.264-1.186-.418-1.262-.492-.072-.07-.226-.264-.498-1.227zM252.891 27.27a1.745 1.745 0 00-3.362.01c-.267.966-.42 1.16-.492 1.232-.074.075-.278.23-1.256.5a1.746 1.746 0 00.01 3.367c.981.265 1.185.418 1.261.492.072.072.227.266.5 1.23a1.745 1.745 0 003.362-.012c.266-.966.419-1.16.491-1.232.074-.075.277-.23 1.257-.5a1.744 1.744 0 00-.011-3.368c-.982-.264-1.186-.418-1.262-.492-.072-.07-.226-.264-.498-1.227z">
                </path>
            </g>
            <g>
                <circle :stroke="gitColor" cx="187.5" cy="75.5" r="4" transform="rotate(180 187.5 75.5)"></circle>
                <circle :stroke="gitColor" cx="203.5" cy="98.5" r="6" transform="rotate(180 203.5 98.5)"></circle>
                <circle :stroke="gitColor" cx="219.5" cy="84.5" r="4" transform="rotate(180 219.5 84.5)"></circle>
                <path :stroke="gitColor"
                    d="M203.5 92V49M203.5 51.5c0 11.202-16 5.894-16 20M203.5 60.5c0 11.202 16 5.894 16 20M231.5 29.562c-4.41 11.148-15.284 19.033-28 19.033s-23.59-7.885-28-19.033M179.5 25.5h48M175.5 21.032a30.077 30.077 0 014.824-8.14c-2.658-9.41.25-13.137 7.829-6.69A29.959 29.959 0 01203.5 2a29.96 29.96 0 0115.347 4.2c7.579-6.445 10.487-2.717 7.829 6.693a30.079 30.079 0 014.824 8.14">
                </path>
            </g>
        </svg>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="moment.js"></script>
    <script>
        const vue = new Vue({
            el: "#app",
            data: {
                time: "This is time.",
                starColor: "#e3b341",
                treeColor: "#3fb950",
                timeStyle: "color:  #f8d584",
                bushColor: "#f08831",
                gitColor: "#6e40c9",
                dayStrokeColor: "#d1d5da",
                cloudColor: "#388bfd",
                hillsColor: "#da3633",
                towerColor: "#db61a2",
                background: "background: #0d1117",
                timeContainer: "padding-top: 37vh;padding-left: 26vw",
                properties: {
                    "schemecolor":
                    {
                        "order": 0,
                        "text": "ui_browse_properties_scheme_color",
                        "type": "color",
                        "value": "0 0 0"
                    },
                    "timeFontSize":
                    {
                        "order": 101,
                        "text": "时间字体大小",
                        "type": "textinput",
                        "value": "7"
                    },
                    "timeFormat":
                    {
                        "order": 100,
                        "text": "时间格式（Moment.js实现）",
                        "type": "textinput",
                        "value": "HH:mm:ss"
                    },
                    "timexoffset":
                    {
                        "fraction": false,
                        "max": 100,
                        "min": 0,
                        "order": 102,
                        "text": "时间的X轴偏移量",
                        "type": "slider",
                        "value": 26
                    },
                    "timeyoffset":
                    {
                        "fraction": false,
                        "max": 100,
                        "min": 0,
                        "order": 103,
                        "text": "时间的Y轴偏移量",
                        "type": "slider",
                        "value": 37
                    }
                }
            },
            mounted() {
                let isDay = false;
                const timer = () => {
                    this.time = moment().format(this.properties.timeFormat.value)
                    const hour = parseInt(moment().format("HH"))
                    isDay = hour < 18 && hour > 6
                    this.timeContainer = "padding-top: " + this.properties.timeyoffset.value + "vh;padding-left: "
                        + this.properties.timexoffset.value + "vw"
                    if (isDay) {
                        this.starColor = this.dayStrokeColor
                        this.treeColor = this.dayStrokeColor
                        this.timeStyle = "color:" + this.dayStrokeColor
                            + ";font-size:" + this.properties.timeFontSize.value + "vw"
                        this.bushColor = this.dayStrokeColor
                        this.gitColor = this.dayStrokeColor
                        this.cloudColor = this.dayStrokeColor
                        this.hillsColor = this.dayStrokeColor
                        this.towerColor = this.dayStrokeColor
                        this.background = "background: #fff"
                    } else {
                        this.starColor = "#e3b341"
                        this.treeColor = "#3fb950"
                        this.timeStyle = "color:  #f8d584"
                            + ";font-size:" + this.properties.timeFontSize.value + "vw"
                        this.bushColor = "#f08831"
                        this.gitColor = "#6e40c9"
                        this.cloudColor = "#388bfd"
                        this.hillsColor = "#da3633"
                        this.towerColor = "#db61a2"
                        this.background = "background: #0d1117;"
                    }
                }
                timer()
                setInterval(timer, 1000)
            }
        })
        window.wallpaperPropertyListener = {
            applyUserProperties: function (properties) {
                if (properties.timeFontSize) {
                    vue.properties.timeFontSize = properties.timeFontSize
                }
                if (properties.timeFormat) {
                    vue.properties.timeFormat = properties.timeFormat
                }
                if (properties.timexoffset) {
                    vue.properties.timexoffset = properties.timexoffset
                }
                if (properties.timeyoffset) {
                    vue.properties.timeyoffset = properties.timeyoffset
                }
            }
        }
    </script>
</body>

</html>